<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br">

<head>

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Maquina de Trocos</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body>

<form>
  <div>
    <label for="name">Insira a quantidade que deseja trocar:</label>
    <input type="text" name="name" id="quantidade" />
    
    <input type="submit" value="Dar troco" />
  </div>
</form>

<ol>
<div id="troco"></div>
</ol>

<script>
$(document).ready(function(){
  
  $('form').on('submit', function(e){
    e.preventDefault();
	
		// rounding prevents code-splosion from non-integer values
        var sobra = Math.floor($('#quantidade').val());
		
        var OpcoesTroco = [5, 10, 20, 50, 100, 200, 500];
		var ValorTroco = [];
		
        function mod(num){
            if (num % 5 === 0){
                return num;
            }else{
                return num + 5 - num % 5
            }
        }

    function troca(num){
        var index = OpcoesTroco.length - 1;
        var divisao = [];
        while (sobra >= OpcoesTroco[0]){
            if (sobra >= OpcoesTroco[index]){
               sobra -= OpcoesTroco[index];
               divisao.push(OpcoesTroco[index]);
			   ValorTroco.push(OpcoesTroco[index]);
            }else{
                index--;
            }
        }
        return divisao;
    }
	
    var ValorTrocoFormatado = $.map(troca(sobra), function(value){
      return '<span>' + value + ' euro(s); </span>';
    });
	
	console.log(ValorTroco);
	
	$("#troco").empty().append(ValorTrocoFormatado.join(''));
  });
});

</script> 

</body>

</html>
